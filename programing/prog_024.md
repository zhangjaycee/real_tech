## Rust å­¦ä¹ ç¬”è®°

å‚è€ƒä¹¦ï¼šhttps://kaisery.github.io/trpl-zh-cn/ch03-03-how-functions-work.html


## 0.æ¦‚è¿°

Rustæ˜¯ç¼–è¯‘å‹è¯­è¨€ï¼Œrustcæ˜¯ç¼–è¯‘å™¨ï¼Œcargoæ˜¯é¡¹ç›®ç®¡ç†å·¥å…·ã€‚rustup docå¯ä»¥æŸ¥çœ‹æœ¬åœ°æ–‡æ¡£ã€‚

## 1. cargo

cargoæ¢æºï¼šhttps://lug.ustc.edu.cn/wiki/mirrors/help/rust-crates

#### 1.1 Cargo.toml

cargoæœŸæœ›æºæ–‡ä»¶ä½äºsrcç›®å½•ã€‚cargoéœ€è¦ä¸€ä¸ªé…ç½®æ–‡ä»¶`Cargo.toml`ï¼Œtomlå³(Tom's Obvious, Minimal Language)ï¼Œæ ¼å¼ç±»ä¼¼äºiniæ–‡ä»¶ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

```
[package]

name = "hello_world"
version = "0.0.1"
authors = ["jczhang <zhjcyx@gmail.com>"]
```

#### 1.2 å‘½ä»¤

å»ºå¥½Cargo.tomlæ–‡ä»¶ä¹‹åï¼Œå¯ä»¥ç”¨`cargo build`è¿›è¡Œç¨‹åºæ„å»ºã€‚ç”Ÿæˆçš„äºŒè¿›åˆ¶è·¯å¾„åº”è¯¥æ˜¯`target/debug/hello_world`ã€‚ä¹Ÿå¯ä»¥åˆå¹¶è¿™ä¸¤æ­¥ç›´æ¥ç”¨`cargo run`ç¼–è¯‘å’Œæ‰§è¡ŒäºŒè¿›åˆ¶ç¨‹åºã€‚æ³¨æ„ï¼Œè¿™æ ·ä½¿debugç‰ˆæœ¬ï¼Œå¦‚æœè¦ç”Ÿæˆreleaseç‰ˆæœ¬ï¼Œåº”è¯¥ç”¨`cargo build --release`,è¿™æ ·äºŒè¿›åˆ¶è·¯å¾„åº”è¯¥æ˜¯`target/release/hello_world`ã€‚Releaseç¼–è¯‘é€Ÿåº¦è¾ƒæ…¢ï¼Œä½†ç¨‹åºæ‰§è¡Œä¼šæ›´å¿«ã€‚

Cargoä¹Ÿæä¾›å»ºç«‹â€œéª¨æ¶é¡¹ç›®â€çš„å‘½ä»¤ï¼Œå¦‚ï¼š
```
cargo new hello_world
```
è¿™ä¸ªå‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ª`Cargo.toml`å’Œä¸€ä¸ªåŒ…å«`main.rs`çš„`srcç›®å½•`ã€‚`main.rs`å·²ç»å†™å¥½äº†ä¸€è¡Œ `println!("Hello, world!");` ä»£ç ï¼Œå¹¶ä¸”é¡¹ç›®ç›®å½•è¢«åˆ›å»ºå¥½äº†ä¸€ä¸ª**gitä»“åº“**ã€‚

`cargo check`å¯ä»¥æ£€æŸ¥æ˜¯å¦å¯ä»¥æ­£ç¡®ç¼–è¯‘è€Œä¸ç¼–è¯‘ï¼Œè¿™æ ·å¯ä»¥æ¯”buildæ›´å¿«åœ°æ£€æŸ¥è¯­æ³•é”™è¯¯ã€‚


## 2. æ‚é¡¹

* `//` è¡¨ç¤ºæ³¨é‡Šã€‚

* `use` å¼•å…¥åŒ…å«çš„åŒ…ã€‚

* ç¼©è¿›ç”¨**ç©ºæ ¼è€Œétab**ã€‚

* å£°æ˜ä¸€ä¸ªå˜é‡ç”¨`let`ï¼Œå¦‚ï¼š
```rust
let foo = 0;        // å¯å˜
let mut bar = 1;    // ä¸å¯å˜
let mut guess = String::new() // åˆ›å»ºå¯å˜å˜é‡ï¼Œå¹¶ç»‘å®šåˆ°æ–°çš„Stringç©ºå®ä¾‹ä¸Šã€‚
```

* ç”¨`println!`è¿›è¡Œæ‰“å°æ—¶ï¼Œå ä½ç¬¦æ˜¯`{}`ã€‚å…¶ä»–å’ŒCè¯­è¨€`printf`å¾ˆç±»ä¼¼ã€‚ä¾‹ï¼š
```rust
println!("x = {} and y = {}", x, y);
```

* crateæ˜¯rustçš„åº“æˆ–è€…äºŒè¿›åˆ¶ï¼Œåˆ†åˆ«ç§°ä¸ºåº“crateï¼Œæˆ–è€…äºŒè¿›åˆ¶crateã€‚crateä¸­åˆåŒ…å«æœ‰traitã€‚ è¿è¡Œ `cargo doc --open` å‘½ä»¤æ¥æ„å»ºæ‰€æœ‰æœ¬åœ°ä¾èµ–æä¾›çš„æ–‡æ¡£ï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œè¿™æ ·å¯ä»¥ç¡®å®šåŒ…å«å“ªä¸ªtraitå’Œè°ƒç”¨å£°æ˜æ–¹æ³•ã€‚
```rust
use rand::Rng // randæ˜¯ä¸€ä¸ªåº“crateï¼ŒRngæ˜¯randçš„ä¸€ä¸ªtrait
```

## 3. å˜é‡

#### 3.1 å¯å˜ï¼Œä¸å¯å˜å’Œå¸¸é‡

Rustçš„**å˜é‡**åˆ†ä¸ºå¯å˜(mutable)å’Œä¸å¯å˜(immutable)å˜é‡ï¼Œé»˜è®¤æ˜¯ä¸å¯å˜çš„ã€‚ä¸ä¸å¯å˜é‡ç±»ä¼¼çš„æ˜¯**å¸¸é‡**(const)ï¼Œä½†æ˜¯å¸¸é‡åªèƒ½ä»¥å¸¸é‡è¡¨è¾¾å¼åˆå§‹åŒ–ï¼Œå¹¶ä¸”éœ€è¦æŒ‡æ˜ç±»å‹ã€‚ä¾‹ï¼š


```rust
let x = 5;                          // ä¸å¯å˜é‡
let mut y = 6;                      // å¯å˜é‡   
const MAX_POINTS: u32 = 100_000;    // å¸¸é‡ï¼Œæ³¨æ„æ•°å­—ä¸­çš„ä¸‹åˆ’çº¿æ˜¯ä¸ºäº†å¯è¯»æ€§
```

#### 3.2 éšè— (Shadowing)

Rustä¸­å˜é‡å£°æ˜å¯ä»¥é‡åï¼Œå…ˆå£°æ˜çš„é‡ä¼šè¢«åå£°æ˜çš„åŒåé‡**éšè—** (Shadowing)ã€‚

åˆ©ç”¨â€œéšè—â€ï¼Œå¯ä»¥â€œæ”¹å˜â€ä¸å¯å˜é‡çš„å€¼ã€‚è¿™ç§æ”¹å˜æ–¹æ³•ï¼Œå…¶å®æ¯”æ”¹å˜å¯å˜é‡æ›´çµæ´»ï¼Œå› ä¸ºå®è´¨ä¸Šæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒåä¸åŒç±»å‹çš„æ–°çš„ä¸å¯å˜é‡ï¼Œä¾‹å¦‚ï¼š
```rust
let spaces = "   ";
let spaces = spaces.len();
```

#### 3.3 æ•°æ®ç±»å‹

Rustæ˜¯é™æ€ç±»å‹è¯­è¨€ï¼Œå³ç¼–è¯‘æ—¶éœ€è¦ç¡®å®šæ‰€æœ‰å˜é‡çš„ç±»å‹ã€‚

* æ•´å½¢ï¼š

|é•¿åº¦(bits)|æœ‰ç¬¦å·|æ— ç¬¦å·|
|-|-|-|
|8|i8|u8|
|16|i16|u16|
|32|i32|u32|
|64|i64|u64|
|arch|isize|usize|

(å¯¹äºisize/usizeï¼Œè‹¥åœ¨64ä½æœºå™¨ä¸Šå³ä½¿64ä½ï¼Œå¦åˆ™ä¸º32ä½ã€‚)

* æ•´å½¢å­—é¢å€¼ï¼š

|æ•°å­—å­—é¢å€¼	|ä¾‹å­|
|-|-|
|Decimal|	98_222|
|Hex	|0xff|
|Octal|	0o77|
|Binary|	0b1111_0000|
|Byte (u8 only)|	b'A'|


* æµ®ç‚¹å‹ï¼š

|é•¿åº¦(bit)|ç±»å‹|
|-|-|
|32|f32|
|64|f64|

* å¸ƒå°”å‹ï¼š `bool`ï¼Œåªæœ‰ä¸¤ä¸ªå¯èƒ½å€¼ï¼š`true`å’Œ`false`

* å­—ç¬¦å‹ï¼š `char`ï¼Œ Rustä¸­çš„charå¹¶é1ä¸ªå­—èŠ‚ï¼Œå®ƒæ”¯æŒunicodeã€‚charå­—ç¬¦ç”¨å•å¼•å·åŒ…å›´ã€‚å¦‚ï¼š
```rust
let c = 'z';
let z = 'å“ˆ';
let heart_eyed_cat = 'ğŸ˜»';
```

### 3.4. å¤åˆç±»å‹

Rust å¤åˆç±»å‹åŒ…æ‹¬tupleå’Œarrayï¼š

* tupleï¼š

```rust
// å£°æ˜tupleï¼š
let foo = (500, 6.4, 1);
let x: (i32, f64, u8) = (500, 6.4, 1);
// è§£æ„tuple:
let (x, y, z) = foo;
// ç´¢å¼•tupleï¼Œæ³¨æ„æ˜¯ç”¨â€œ.â€ è€Œéå¹¿æ³›ä½¿ç”¨çš„ä¸­æ‹¬å·
let five_hundred = x.0;
let one = x.2;
```
* Array

```rust
// å£°æ˜ä¸€ä¸ªæ•°ç»„
// æ³¨æ„ç±»å‹ååŠ åˆ†å·ï¼Œå†åŠ æ•°å­—ï¼Œè¿™é‡Œè¯´æ˜aæ•°ç»„åŒ…å«äº†5ä¸ªi32ç±»å‹çš„å…ƒç´ 
let a: [i32; 5] = [1, 2, 3, 4, 5];
// æ•°ç»„çš„ç´¢å¼•æ˜¯ç”¨ä¸­æ‹¬å· "[]"
let first = a[0];
```

æ³¨æ„ï¼šå¦‚æœç´¢å¼•è¶…å‡ºäº†æ•°ç»„é•¿åº¦ï¼ŒRust ä¼š panicï¼Œè¿™æ˜¯ Rust æœ¯è¯­ï¼Œå®ƒç”¨äºç¨‹åºå› ä¸ºé”™è¯¯è€Œé€€å‡ºçš„æƒ…å†µã€‚


### 4. å‡½æ•°

* å‡½æ•°å‚æ•°çš„ä¾‹å­ï¼š

```rust
fn main() {
    another_function(5, 6);
}

fn another_function(x: i32, y: i32) {
    println!("The value of x is: {}", x);
    println!("The value of y is: {}", y);
}
```

å’ŒC/C++ ä¸€æ ·ï¼Œå®šä¹‰å‡½æ•°æ—¶å¿…é¡»è¦æ³¨æ˜å‚æ•°ç±»å‹ã€‚

* å‡½æ•°è¿”å›çš„ä¾‹å­ï¼š

```rust
fn five() -> i32 {
    5
}

fn main() {
    let x = five();

    println!("The value of x is: {}", x);
}
```

### 5. åˆ†æ”¯å’Œå¾ªç¯

åˆ†æ”¯ä¸»è¦æœ‰ifï¼Œå¾ªç¯ç»“æ„æœ‰loopã€forå’Œwhileã€‚

**if** ä¾‹1ï¼š
```rust
fn main() {
    let number = 6;

    if number % 4 == 0 {
        println!("number is divisible by 4");
    } else if number % 3 == 0 {
        println!("number is divisible by 3");
    } else if number % 2 == 0 {
        println!("number is divisible by 2");
    } else {
        println!("number is not divisible by 4, 3, or 2");
    }
}
```
**if** ä¾‹2ï¼š
```rust
fn main() {
    let condition = true;
    // æ³¨æ„ï¼š è¿™ç§æƒ…å†µä¸‹ï¼Œå˜é‡å¿…é¡»åªæœ‰ä¸€ä¸ªç±»å‹
    // æ¯”å¦‚5å’Œ6è¿™é‡Œéƒ½æ˜¯i32ç±»å‹çš„
    let number = if condition {
        5
    } else {
        6
    };
    println!("The value of number is: {}", number);
}
```

**loop** ä¾‹1ï¼š

```rust
loop {
    println!("again!");
}
```
**loop** ä¾‹2ï¼š

```rust
let result = loop {
    counter += 1;

    if counter == 10 {
        break counter * 2;
    }
};
```

**while** ä¾‹ï¼š

```rust
while number != 0 {
    println!("{}!", number);

    number = number - 1;
}
```

**for** ä¾‹1ï¼š

```rust
let a = [10, 20, 30, 40, 50];
for element in a.iter() {
    println!("the value is: {}", element);
}
```

**for** ä¾‹2ï¼š

```rust
// rev å³åå‘
for number in (1..4).rev() {
    println!("{}!", number);
}
```

## 6. æ‰€æœ‰æƒç³»ç»Ÿ

æ‰€æœ‰æƒç³»ç»Ÿæ˜¯Rustä¸GCè¯­è¨€æˆ–æ‰‹åŠ¨å†…å­˜ç®¡ç†è¯­è¨€çš„ä¸»è¦åŒºåˆ«ã€‚

è·Ÿè¸ªå“ªéƒ¨åˆ†ä»£ç æ­£åœ¨ä½¿ç”¨**å †**ä¸Šçš„å“ªäº›æ•°æ®ï¼Œæœ€å¤§é™åº¦çš„å‡å°‘å †ä¸Šçš„é‡å¤æ•°æ®çš„æ•°é‡ï¼Œä»¥åŠæ¸…ç†å †ä¸Šä¸å†ä½¿ç”¨çš„æ•°æ®ç¡®ä¿ä¸ä¼šè€—å°½ç©ºé—´ï¼Œè¿™äº›é—®é¢˜æ­£æ˜¯æ‰€æœ‰æƒç³»ç»Ÿè¦å¤„ç†çš„ã€‚

å‡ ä¸ªæ‰€æœ‰æƒåŸºæœ¬è§„åˆ™ï¼š
```
Rust ä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªè¢«ç§°ä¸ºå…¶ æ‰€æœ‰è€…ï¼ˆownerï¼‰çš„å˜é‡ã€‚
å€¼æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ‰€æœ‰è€…ã€‚
å½“æ‰€æœ‰è€…ï¼ˆå˜é‡ï¼‰ç¦»å¼€ä½œç”¨åŸŸï¼Œè¿™ä¸ªå€¼å°†è¢«ä¸¢å¼ƒã€‚
```

å¯¹äºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå­—é¢å€¼çš„å­—ç¬¦ä¸²æ˜¯ç›´æ¥ç¡¬ç¼–ç åˆ°ä»£ç ä¸­å¹¶å­˜åˆ°æ ˆä¸­çš„ï¼Œè€Œå¯å˜é•¿çš„Stringç±»å‹å¿…é¡»æ˜¯è¿è¡Œæ—¶ä»ç³»ç»Ÿåˆ†é…çš„å †ä¸­çš„å†…å­˜ï¼Œå¹¶ä¸”è¦åœ¨åˆé€‚çš„æ—¶å€™å°†å†…å­˜è¿”è¿˜ç»™æ“ä½œç³»ç»Ÿã€‚

Rust åœ¨å˜é‡ç¦»å¼€ä½œç”¨åŸŸæ—¶è‡ªåŠ¨å›æ”¶å†…å­˜ï¼Œå®ƒä¼šåœ¨`}`å¤„è‡ªåŠ¨è°ƒç”¨ä¸€ä¸ªç§°è°“dropçš„å‡½æ•°ã€‚

* å‚æ•°ä¼ é€’å’Œæ‰€æœ‰æƒ

åªè€ƒè™‘å †ä¸Šåˆ†é…å˜é‡çš„æƒ…å†µï¼Œæ¯”å¦‚å½“æŠŠä¸€ä¸ªå †ä¸Šå˜é‡xä»fooå‡½æ•°ä¼ ç»™ä¸€ä¸ªbarå‡½æ•°ï¼Œbarä¼šæ¥ç®¡xæ‰€æœ‰æƒï¼Œè¿™ä¸ªå˜é‡xä¹Ÿä¼šåœ¨è¢«è°ƒç”¨å‡½æ•°ç»“æŸæ—¶è¢«dropè°ƒï¼Œé™¤éå®ƒä»¥è¿”å›å€¼çš„å½¢å¼å†ä¼ å›ç»™fooã€‚ä¾‹ï¼š

```rust
fn main() {
    let s1 = gives_ownership();         // gives_ownership å°†è¿”å›å€¼
                                        // ç§»ç»™ s1

    let s2 = String::from("hello");     // s2 è¿›å…¥ä½œç”¨åŸŸ

    let s3 = takes_and_gives_back(s2);  // s2 è¢«ç§»åŠ¨åˆ°
                                        // takes_and_gives_back ä¸­, 
                                        // å®ƒä¹Ÿå°†è¿”å›å€¼ç§»ç»™ s3
} // è¿™é‡Œ, s3 ç§»å‡ºä½œç”¨åŸŸå¹¶è¢«ä¸¢å¼ƒã€‚s2 ä¹Ÿç§»å‡ºä½œç”¨åŸŸï¼Œä½†å·²è¢«ç§»èµ°ï¼Œ
  // æ‰€ä»¥ä»€ä¹ˆä¹Ÿä¸ä¼šå‘ç”Ÿã€‚s1 ç§»å‡ºä½œç”¨åŸŸå¹¶è¢«ä¸¢å¼ƒ

fn gives_ownership() -> String {             // gives_ownership å°†è¿”å›å€¼ç§»åŠ¨ç»™
                                             // è°ƒç”¨å®ƒçš„å‡½æ•°

    let some_string = String::from("hello"); // some_string è¿›å…¥ä½œç”¨åŸŸ.

    some_string                              // è¿”å› some_string å¹¶ç§»å‡ºç»™è°ƒç”¨çš„å‡½æ•°
}

// takes_and_gives_back å°†ä¼ å…¥å­—ç¬¦ä¸²å¹¶è¿”å›è¯¥å€¼
fn takes_and_gives_back(a_string: String) -> String { // a_string è¿›å…¥ä½œç”¨åŸŸ

    a_string  // è¿”å› a_string å¹¶ç§»å‡ºç»™è°ƒç”¨çš„å‡½æ•°
}
```

* å¼•ç”¨å’Œæ‰€æœ‰æƒå€Ÿå‡º

ä¸è¿‡ï¼Œè¿˜å¯ä»¥ç”¨å¼•ç”¨çš„å½¢å¼åœ¨ä¼ å‚çš„æ—¶å€™ä¸è½¬ç§»æ‰€æœ‰æƒï¼Œåªæ˜¯å°†å˜é‡å€Ÿå‡ºå»ï¼Œè¿™æ ·æ‰€æœ‰æƒåœ¨å‡½æ•°è¿”å›åä»ç„¶åœ¨ï¼Œxä¹Ÿæ²¡æœ‰è¢«baré‡Šæ”¾ã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªå±€é™æ˜¯ï¼Œbarä¸­ä¸èƒ½æ›´æ”¹x(åªè¯»ï¼Ÿ)ã€‚å¼•ç”¨(`&`)å’Œè§£å¼•ç”¨(`*`)çš„ç¬¦å·å’ŒC++å¾ˆåƒï¼Œä½†æ³¨æ„ä¼ é€’ä¼ é€’å‘èµ·ç«¯ä¹Ÿè¦åŠ å¼•ç”¨ç¬¦å·`&`ã€‚ä¾‹ï¼š

```rust
fn main() {
    let s1 = String::from("hello");

    let len = calculate_length(&s1); // è¿™é‡Œè¿”å›åï¼Œs1çš„æ‰€æœ‰æƒä»æ˜¯mainçš„

    println!("The length of '{}' is {}.", s1, len);
}
fn calculate_length(s: &String) -> usize {
    s.len()
} // è¿™é‡Œså¹¶ä¸ä¼šè¢«drop
```

è¦æƒ³è®©æ‰€å¼•ç”¨çš„å˜é‡åœ¨è¢«â€œå€Ÿå‡ºâ€è¿‡ç¨‹ä¸­å¯å˜ï¼Œè¿˜æ˜¯éœ€è¦åœ¨å‚æ•°åˆ—è¡¨ä¸­åŠ å…¥`mut`å…³é”®å­—(å³ç”¨`&mut`ä»£æ›¿`&`)ã€‚ä¾‹ï¼š

```rust
fn main() {
    let mut s = String::from("hello");
    change(&mut s); // æ³¨æ„ï¼Œä¼ å‚æ˜¯ä¹Ÿè¦åŠ  &mut
}
fn change(some_string: &mut String) {
    some_string.push_str(", world");
}
```

è¿˜æœ‰ä¸€ä¸ªé™åˆ¶ï¼Œå¯¹äºåŒä¸€ä»½å †ä¸Šå˜é‡(æ•°æ®)ï¼Œåœ¨åŒä¸€ä½œç”¨åŸŸä¸­åªèƒ½ç”±å®ƒçš„ä¸€ä»½å¯å˜å¼•ç”¨ï¼Œæˆ–è€…å¤šä»½ä¸å¯å˜å¼•ç”¨ã€‚è¿™æ„Ÿè§‰ä¸Šå°±ç±»ä¼¼è¯»å†™é”ï¼Œå¯ä»¥æœ‰å¤šä¸ªè¯»é”è¢«åŒæ—¶æŒæœ‰ï¼Œè¯»å’Œå†™ä¸èƒ½åŒæ—¶æŒæœ‰ï¼Œå†™å’Œå†™ä¹Ÿä¸èƒ½ã€‚Rustæ­£æ˜¯åˆ©ç”¨äº†è¿™ä¸ªæ€æƒ³ï¼Œåœ¨ç¼–è¯‘æ—¶å°±é˜²æ­¢äº†å¯èƒ½çš„æ•°æ®ç«äº‰ã€‚

è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRustä¸å…è®¸ä»¥å¼•ç”¨ä½œä¸ºè¿”å›å€¼æ¥å¤–å€Ÿæ‰€æœ‰æƒï¼Œå› ä¸ºè¿”å›æ˜¯ç”Ÿå‘½å‘¨æœŸä¼šç»“æŸï¼Œè¿™å›é€ æˆdangling pointeræ‚¬åœæŒ‡é’ˆï¼ŒRustä¸å…è®¸è¿™æ ·ã€‚ä¾‹ï¼š
```rust
// é”™è¯¯çš„ï¼š
fn dangle() -> &String { // dangle è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼•ç”¨
    let s = String::from("hello"); // s æ˜¯ä¸€ä¸ªæ–°å­—ç¬¦ä¸²
    &s // è¿”å›å­—ç¬¦ä¸² s çš„å¼•ç”¨
} // è¿™é‡Œ s ç¦»å¼€ä½œç”¨åŸŸå¹¶è¢«ä¸¢å¼ƒã€‚å…¶å†…å­˜è¢«é‡Šæ”¾ã€‚
  // å±é™©ï¼

// æ­£ç¡®çš„ï¼š
fn no_dangle() -> String {
    let s = String::from("hello");
    s
}
```

* slice å’Œæ‰€æœ‰æƒ 

å’ŒPythonçš„sliceåˆ‡ç‰‡ç±»ä¼¼ï¼ŒStringã€æ•°ç»„ç­‰éƒ½æ”¯æŒåˆ‡ç‰‡ï¼Œè¯­æ³•æ˜¯`&foo[m..n]`æˆ–è€…`foo[m..=n]`ï¼Œåè€…åŒ…å«`n`ï¼Œè€Œå‰è€…åªåˆ°`n-1`ã€‚

sliceç±»ä¼¼å¼•ç”¨ï¼Œä¹Ÿæ˜¯æ²¡æœ‰æ‰€æœ‰æƒçš„ï¼Œå…¶å®å’Œå¼•ç”¨çš„åŒºåˆ«åªæ˜¯sliceçš„èŒƒå›´å°äºæ•´ä½“çš„èŒƒå›´ã€‚

å­—ç¬¦ä¸²ç±»å‹`String`å¯¹åº”çš„åˆ‡ç‰‡å¼•ç”¨ç±»å‹ä¸º`&str`ï¼Œå­—é¢å€¼å…¶å®å°±æ˜¯`&str`ç±»å‹ï¼Œå­—é¢å€¼å’Œå­—ç¬¦ä¸²sliceéƒ½æ˜¯ä¸å¯å˜çš„ã€‚

æ•°ç»„æ‰€å¯¹åº”çš„åˆ‡ç‰‡ç±»å‹æ˜¯`&[i32]`ã€‚


